(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{16:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),o=a(4),i=a.n(o),c=(a(16),a(2)),r=a(5),d=a(6),h=a(11),m=a(10),l=a(7),b=a.n(l),u=a(0),k=function(t){var e=t.snakeDots;return Object(u.jsx)("div",{children:e.map((function(t,e){var a={left:"".concat(t[0],"px"),top:"".concat(t[1],"px")};return Object(u.jsx)("div",{className:b.a.snakeDot,style:a},e)}))})},f=a(8),g=a.n(f),j=a.p+"static/media/apple.1a67822e.svg",p=function(t){var e=t.dot,a={left:"".concat(e[0],"px"),top:"".concat(e[1],"px")};return Object(u.jsx)("img",{src:j,alt:"apple",className:g.a.snakeFood,style:a})},v=a.p+"static/media/bomb.0d7f7f7c.svg",O=a(9),S=a.n(O),x=function(t){var e=t.dot,a={left:"".concat(e[0],"px"),top:"".concat(e[1],"px")};return Object(u.jsx)("img",{style:a,className:S.a.bomb,src:v,alt:"Bomb"})},D=a.p+"static/media/right-arrow.1260e6bc.svg",C=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).changeBombPosition=function(){s.state.bomb[0]===s.state.food[0]&&s.state.bomb[1]===s.state.food[1]&&s.setState({bomb:s.getRandomCoords(s.state.width,s.state.height)}),s.setState({bomb:s.getRandomCoords(s.state.width,s.state.height)})},s.getRandomCoords=function(t,e){return[Math.floor(Math.random()*((t-s.state.snakeSize)/s.state.snakeSize+1))*s.state.snakeSize,Math.floor(Math.random()*((e-s.state.snakeSize)/s.state.snakeSize+1))*s.state.snakeSize]},s.moveSnake=function(){var t=Object(c.a)(s.state.snakeDots),e=t[t.length-1];switch(s.state.direction){case"RIGHT":e=[e[0]+s.state.snakeSize,e[1]];break;case"LEFT":e=e=[e[0]-s.state.snakeSize,e[1]];break;case"UP":e=e=[e[0],e[1]-s.state.snakeSize];break;case"DOWN":e=e=[e[0],e[1]+s.state.snakeSize]}t.push(e),t.shift(),s.setState({snakeDots:t})},s.checkIfCollapsed=function(){var t=Object(c.a)(s.state.snakeDots),e=t[t.length-1];t.pop(),t.forEach((function(t){e[0]===t[0]&&e[1]===t[1]&&s.onGameOver()})),(e[0]>=s.state.width||e[0]<0||e[1]>=s.state.height||e[1]<0)&&s.onGameOver()},s.checkIfEatFood=function(){var t=s.state.snakeDots[s.state.snakeDots.length-1],e=s.state.food;t[0]===e[0]&&t[1]===e[1]&&(s.setState({food:s.getRandomCoords(s.state.width,s.state.height)}),s.enlargeSnake())},s.checkIfEatBomb=function(){var t=s.state.snakeDots[s.state.snakeDots.length-1],e=s.state.bomb;t[0]===e[0]&&t[1]===e[1]&&s.onGameOver()},s.enlargeSnake=function(){var t=Object(c.a)(s.state.snakeDots);t.unshift([]),s.setState({snakeDots:t})},s.onGameOver=function(){alert("Game over. Snake length is ".concat(s.state.snakeDots.length)),s.setState({snakeDots:[[0,0],[20,0]],direction:"RIGHT",food:s.getRandomCoords(s.state.width,s.state.height),bomb:s.getRandomCoords(s.state.width,s.state.height)})},s.state={width:null,height:null,snakeSize:20,snakeDots:[[0,0],[20,0]],direction:"RIGHT",food:[0,0],speed:200,timeoutId:0,bomb:[],timeoutChangeBombPosition:5e3},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=document.querySelector(".game-area").clientWidth,e=document.querySelector(".game-area").clientHeight;this.setState({width:t,height:e,food:this.getRandomCoords(t,e),bomb:this.getRandomCoords(t,e)}),setInterval(this.moveSnake,this.state.speed),setInterval(this.changeBombPosition,this.state.timeoutChangeBombPosition)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeoutId)}},{key:"componentDidUpdate",value:function(){this.checkIfCollapsed(),this.checkIfEatFood(),this.checkIfEatBomb()}},{key:"render",value:function(){var t=this;return Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsxs)("div",{className:"game-area",id:"game-area",children:[Object(u.jsx)(k,{snakeDots:this.state.snakeDots}),Object(u.jsx)(p,{dot:this.state.food}),Object(u.jsx)(x,{dot:this.state.bomb})]}),Object(u.jsxs)("div",{className:"controller-container",children:[Object(u.jsx)("button",{className:"up",onClick:function(){t.setState({direction:"UP"})},children:Object(u.jsx)("img",{src:D,alt:""})}),Object(u.jsx)("button",{className:"right",onClick:function(){t.setState({direction:"RIGHT"})},children:Object(u.jsx)("img",{src:D,alt:""})}),Object(u.jsx)("button",{className:"left",onClick:function(){t.setState({direction:"LEFT"})},children:Object(u.jsx)("img",{src:D,alt:""})}),Object(u.jsx)("button",{className:"down",onClick:function(){t.setState({direction:"DOWN"})},children:Object(u.jsx)("img",{src:D,alt:""})})]})]})}}]),a}(s.Component),I=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,o=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),o(t),i(t)}))};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),I()},7:function(t,e,a){t.exports={snakeDot:"Snake_snakeDot__EYUm1",snakeImg:"Snake_snakeImg__2FZxP"}},8:function(t,e,a){t.exports={snakeFood:"Food_snakeFood__WuUV-"}},9:function(t,e,a){t.exports={bomb:"bomb_bomb__2z1Le"}}},[[18,1,2]]]);
//# sourceMappingURL=main.27e89204.chunk.js.map