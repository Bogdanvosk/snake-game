(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{16:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),s=n(4),i=n.n(s),c=(n(16),n(3)),r=n(5),d=n(6),h=n(11),k=n(10),f=function(t,e){return[Math.floor(Math.random()*((t-e)/e+1))*e,Math.floor(Math.random()*((t-e)/e+1))*e]},u=n(7),l=n.n(u),w=n(0),p=function(t){var e=t.snakeDots;return Object(w.jsx)("div",{children:e.map((function(t,e){var n={left:"".concat(t[0],"px"),top:"".concat(t[1],"px")};return Object(w.jsx)("div",{className:l.a.snakeDot,style:n},e)}))})},g=n(8),v=n.n(g),b=function(t){var e=t.dot,n={left:"".concat(e[0],"px"),top:"".concat(e[1],"px")};return Object(w.jsx)("div",{className:v.a.snakeFood,style:n})},j=n(9),D=n.n(j),S=window.screen.width,O=window.screen.height,m={windowWidth:S,windowHeight:O,snakePartWidth:20,snakePartHeight:20,snakeDots:[[0,0],[20,0]],direction:"RIGHT",food:f(S,20),speed:200},x=function(t){Object(h.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state=m,t.onKeyDown=function(e){switch(e.keyCode){case 38:t.setState({direction:"UP"});break;case 40:t.setState({direction:"DOWN"});break;case 37:t.setState({direction:"LEFT"});break;case 39:t.setState({direction:"RIGHT"})}},t.moveSnake=function(){var e=Object(c.a)(t.state.snakeDots),n=e[e.length-1];switch(t.state.direction){case"RIGHT":n=n[0]>=t.state.windowWidth?[0,n[1]]:[n[0]+t.state.snakePartWidth,n[1]];break;case"LEFT":n=n[0]<=0?[t.state.windowWidth,n[1]]:[n[0]-t.state.snakePartWidth,n[1]];break;case"UP":n=n[1]<=0?[n[0],t.state.windowHeight]:[n[0],n[1]-t.state.snakePartHeight];break;case"DOWN":n=n[1]>=t.state.windowHeight?[n[0],0]:[n[0],n[1]+t.state.snakePartHeight]}e.push(n),e.shift(),t.setState({snakeDots:e})},t.checkIfCollapsed=function(){var e=Object(c.a)(t.state.snakeDots),n=e[e.length-1];e.pop(),e.forEach((function(e){n[0]===e[0]&&n[1]===e[1]?t.onGameOver():(n[0]>=t.state.windowWidth||n[1]>=t.state.windowHeight)&&(console.log("\u041f\u0440\u0435\u0433\u0440\u0430\u0434\u0430!"),t.onGameOver())}))},t.checkIfEat=function(){var e=t.state.snakeDots[t.state.snakeDots.length-1],n=t.state.food;e[0]===n[0]&&e[1]===n[1]&&(console.log("\u0421\u044a\u0435\u043b"),t.setState({food:f(S,20)}),t.enlargeSnake())},t.enlargeSnake=function(){var e=Object(c.a)(t.state.snakeDots);e.unshift([]),t.setState({snakeDots:e})},t.onGameOver=function(){alert("Game over. Snake length is ".concat(t.state.snakeDots.length)),t.setState(m)},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){setInterval(this.moveSnake,this.state.speed),document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(){this.checkIfCollapsed(),this.checkIfEat()}},{key:"render",value:function(){var t=this;return Object(w.jsx)(D.a,{onSwipedLeft:function(){t.setState({direction:"LEFT"})},onSwipedRight:function(){t.setState({direction:"RIGHT"})},onSwipedUp:function(){t.setState({direction:"UP"})},onSwipedDown:function(){t.setState({direction:"DOWN"})},children:Object(w.jsxs)("div",{className:"game-area",children:[Object(w.jsx)(p,{snakeDots:this.state.snakeDots}),Object(w.jsx)(b,{dot:this.state.food})]})})}}]),n}(a.Component),y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),o(t),s(t),i(t)}))};i.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(x,{})}),document.getElementById("root")),y()},7:function(t,e,n){t.exports={snakeDot:"Snake_snakeDot__zvGnR"}},8:function(t,e,n){t.exports={snakeFood:"Food_snakeFood__1rfPE"}}},[[24,1,2]]]);
//# sourceMappingURL=main.34a878dd.chunk.js.map